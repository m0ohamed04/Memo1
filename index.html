<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Memorito</title>
    
    <link rel="icon" href="https://media.tenor.com/HbsmAg2_OUUAAAAj/newt00th-newtooth.gif" type="image/gif">
    <link rel="shortcut icon" href="https://media.tenor.com/HbsmAg2_OUUAAAAj/newt00th-newtooth.gif" type="image/gif">
    <link rel="apple-touch-icon" href="https://media.tenor.com/HbsmAg2_OUUAAAAj/newt00th-newtooth.gif">
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body { background-color: #000; font-family: 'Cairo', sans-serif; overflow: hidden; color: #fff; height: 100dvh; }

        .svg-heart { width: 100%; height: 100%; fill: currentColor; }

        #loader {
            position: fixed; inset: 0; 
            background: radial-gradient(circle at center, #2a0015, #000000); 
            z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.8s ease;
        }
        .brand { font-family: 'Dancing Script', cursive; font-size: 4rem; color: #ff0055; margin-bottom: 20px; }
        .heart-box { position: relative; width: 80px; height: 80px; }
        .h-icon { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        .h-gray { color: #333; }
        
        .h-pink { 
            color: #ff0055; 
            overflow: hidden; 
            height: 0%; 
            width: 100%;
            position: absolute; 
            bottom: 0; 
            animation: fillUp 2.5s ease-in-out forwards; 
            filter: drop-shadow(0 0 10px #ff0055); 
        }
        .h-pink .svg-heart { position: absolute; bottom: 0; left: 0; height: 80px; width: 80px; }
        
        .story-container { width: 100vw; height: 100dvh; overflow-y: scroll; scroll-snap-type: y mandatory; scroll-behavior: smooth; -webkit-overflow-scrolling: touch; }
        .slide { width: 100vw; height: 100dvh; scroll-snap-align: start; scroll-snap-stop: always; position: relative; overflow: hidden; background: #000; display: flex; justify-content: center; align-items: center; }
        
        .slide-media { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.5s; }
        .slide-media.loaded { opacity: 1; }

        .overlay-gradient { position: absolute; bottom: 0; left: 0; width: 100%; height: 50%; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); z-index: 2; pointer-events: none; }

        .slide-content { position: absolute; bottom: 40px; left: 20px; right: 80px; z-index: 3; text-align: left; opacity: 0; transform: translateY(20px); transition: 0.6s ease 0.3s; padding-bottom: env(safe-area-inset-bottom); }
        .slide.active .slide-content { opacity: 1; transform: translateY(0); }
        .slide-content h2 { font-family: 'Dancing Script'; font-size: 3.2rem; color: #ff0055; margin-bottom: 2px; text-shadow: 0 2px 5px #000; }
        .slide-content p { font-size: 1.1rem; color: #eee; font-weight: 600; text-shadow: 0 2px 5px #000; }
        
        .floating-heart { position: absolute; bottom: 40px; right: 20px; left: auto; z-index: 10; width: 45px; height: 45px; color: rgba(255,255,255,0.7); cursor: pointer; padding-bottom: env(safe-area-inset-bottom); }
        .floating-heart.liked { color: #ff0055; animation: pop 0.3s forwards; }

        .heart-particle { position: fixed; pointer-events: none; animation: particleFade 1s ease-out forwards; z-index: 99; color: #ff0055; }

        .final-slide { background: linear-gradient(135deg, #ff758c, #ff7eb3); display: flex; justify-content: center; align-items: center; }
        .message-box { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); width: 85%; padding: 30px 20px; border-radius: 20px; text-align: center; color: #333; }
        .final-message { font-size: 1.1rem; line-height: 1.7; font-weight: 600; }
        .signature { display: block; margin-top: 15px; color: #ff0055; font-size: 1.3rem; font-weight: 800; }
        .btn-restart { display: block; margin: 20px auto 10px; padding: 10px 25px; background: #fff; color: #ff0055; border: 2px solid #ff0055; border-radius: 50px; font-weight: 700; text-decoration: none; }
        .btn-site { display: block; margin: 0 auto; padding: 10px 25px; background: #ff0055; color: #fff; border-radius: 50px; font-weight: 700; text-decoration: none; }

        @keyframes fillUp { from { height: 0%; } to { height: 100%; } }
        @keyframes pop { 50% { transform: scale(1.4); } }
        @keyframes particleFade {
            0% { opacity: 1; transform: translate(0, 0) scale(1); }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0); }
        }
    </style>
</head>
<body>

    <svg style="display: none;">
        <symbol id="icon-heart" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></symbol>
    </svg>

    <div id="loader"><div class="brand">Memorito</div><div class="heart-box"><div class="h-icon h-gray"><svg class="svg-heart"><use href="#icon-heart"></use></svg></div><div class="h-icon h-pink"><svg class="svg-heart"><use href="#icon-heart"></use></svg></div></div></div>

    <div class="story-container" id="stories"></div>

    <script>
        const totalSlides = 82;
        const container = document.getElementById('stories');

        // ==========================================
        //  ุงูุชุจ ูุตู ูู ููููุฑู ููุงู ุงูุฌููุฉ ุงููู ุจูู ุนูุงูุชูู ุงูุชูุตูุต
        // ==========================================
        const captions = {
            1: "ูููุง ูุงูุช ุจุฏุงูู ูู ุญุงุฌู๐ฅน๐ฉท",
            2: "ูุงูุฑู๐",
            3: "ุงูููู ุฏุง ุงููููู ูู ุจุฏุงูุงุชูุง ุจุญุจู ูุจุญุจู ุงูู๐ซ๐ฉท",
            4: "ูุงูุฏุงุงุงุงุฑ ุงูุงูโฆุงูุฏุงุฑ ุงูุงู ๐ซ๐ฉท",
            5: "ุงูุนูุฏู ุจุนุฏ ุงุดุชูุงู ๐ฅน๐ฅน๐ฅน",
            6: "ูู ูุง ุฃุดูููุง ุงูุชูุฑ ุงูุฑูุฒู๐๐",
            7: "ุงุญูุง ุงูู ุดูุฑูุง ุณููุฒู๐๐ฉท",
            8: "ุตูุฑู ููููู ุณูุงุนูุง๐ญ",
            9: "ุงูุง ุฌูุฒูุง๐ซฆ",
            10: "ุงูุชู ุชูุฌู ูุญุถูู ุฏููุง ู ูููู ู ุญุจูุจุชู ุฏุง ุจูุชู๐ก๐ซ๐ฉท",
            11: "ููุถู ุดุงููู ุฌูุง ุนููุง ูุนูููู๐๐ฉท",
            12: "ูู ูุด ูุนุงูู ูุง ูููู ุจูุง ุฎูุจู๐ฅน๐ฅน๐ฉท",
            13: "ุฐูุฑู ุงูู ุณูู ุจููุง ๐ฅน๐ฉท",
            14: "ุงูููู ุงููู ูุงุฑุจ ู ุญุจูุจุชูโฆุจุญุจู ุงูู ู ูููู ููู ููุชู ุชุชุฎููู๐ซ๐ฉท",
            15: "ูุง ุนูุฑู ุงูุฌู ู ุงูุญุงุถุฑ ูุง ุงุญูู ูุตูุจ๐ฅน๐ฉท",
            16: "ูุนูู ุงูุฌูู ๐ญ๐ญ๐ญ",
            17: "ูุชุจุนุชู ๐ก๐ก๐ก",
            18: "ุงูุตูุฑู ุงูู ููุจูู ูุชุตูุฑูุง ุงูุง ููุชู ู ุงููุงุณ ุจุงุฐู ุงููู ููููู ุงุณุฑู ุฏุงููู๐ฅน๐ฉท",
            19: "ูู ุญุงุฌู ูุญูุงุชู ุงุจุชุฏูุช ุงุญุณุจูุง ูู ูุจู ูุนุฑู ูููู ููู ุจุนุฏ ูุนุฑูุชูุง๐ฅฐ๐ซ๐ฉท",
            20: "ูู ูู ุงุญูุง ูู ููููุญ ูุฑุงูุง๐๐๐ฉท",
            21: "ุงู ููู ุงูุงุฏุจ ุฏู ุนุฏู ุนุฏูููู๐๐๐",
            22: "ุจูุชู ูุญุจูุจุชู ููู ุญุงุฌู ููุง ูุงูุฏููุง ๐ก๐ซ๐ฉท",
            23: "ูุด ุจูููู ูู ููููุญ ูุฑุงูุง ๐ุจุณ ุงูููู ูุงู ุนุณูู ูุฏุง ูุญูุง ุจูููุณ ุงููุฏูู ููุชูุดู ู ูููโฆูููููโฆุจุญุจูููููู๐ฉท",
            24: "ููุชู ูู ุจุตูุชู ุจุณ ูุฑุง ุถูุฑู ๐๐๐๐ฉท",
            25: "ุฑุจูุง ูุงุฑุจ ูุฎูููุง ูุจุนุถ ููุจูู ููุด ุจุนุถ ุทูู ุงูุนูุฑ ูุงุฑุจ ู ุญุจูุจุชู ๐ซ๐ฉท",
            26: "ูููุง ุจุฏุงูู ุฏุฎูู ุถูู ุฌุฏูุฏ ููุนุงูู ุจุชุงุนูุง ๐ฅน๐ฅน",
            27: "ููุงูู ููู ุตุบูููู๐ฅน๐ฅน๐ฅน",
            28: "ููุงูู ููู ุตุบูููู๐ฅน๐ฅน๐ฅน",
            29: "ุจุงูููุง ูุจุฑุช ููุง ุงู ููุชุตูุฑูุงุด ุจููุง ุณูุง๐",
            30: "ูุงุดู ู ููุงูู ุงุชููู ุชูููู ูุฑุชุงุญู ๐",
            31: "ููุงูู ูุจุฑุช ูุนูุง ูุจูุช๐ฅน๐ฅน๐ฅน",
            32: "ุงูุนู ููุฑู ุชุดููููู ููุชุฌุฑูุด ุนูู ุญุถูู ุจูุชู ุงูุชู ุงูุญุงุฌู ุงููุญูุฏู ุงูู ุนุงูุฒ ุงุดูู ุนููุง ูู ุญุงุฌู ู ูููู ูู ุญุงุฌู ูุงูููโฆุจุญุจู ุงูู ููู ููุชู ุชุชุฎููู๐ก๐ซ๐ฉท",
            33: "ุงูููู ุฏุง ูู ุงููู ู ุงุฎุฑู๐ฅน๐ฅน๐ฅน ุงูุตูุฑู ููุญุฏูุง ููููู ุชุฑุฌุน ุงูููู ูู ุจุฏุงูุชู ๐ฅน๐ฉท",
            34: "ุงููุง ูุนูู ููุฌูุจ ุงุฑูู ููุง ุงู ๐๐๐",
            35: "ุงูุณุงู ููู ููุณู ููู ูู ุจุนุฏ ุชููุงูู๐ฅน๐ฉท",
            36: "ุฏุญูุง ููุจูู ุนูุงุฌูุฒ ุจุณ ูููุฌุง๐ซฆ",
            37: "ูููู ุจุฑู ุฌูู ุงูุจุฑุฏ๐",
            38: "ุงูุงู ุฏุง ุงูุณุงููุฏ ุงูู๐๐ฉท",
            39: "ูุง ุฏุง ุงูุง ๐",
            40: "ูุงุดุงุกุงููู ๐๐ฉท",
            41: "ุจุญุจู ุงููููููููู๐ฅน",
            42: "ุนุงูุฒ ุงูููู ุงูู ููุถู ุงุญุจู ุทูู ุงูุนูุฑ ู ูููู ู ุญุจูุจุชู ูููุถู ุฌูุจู ุฏููุง ูุง ุญุจูุจุชู ๐ซ๐ฉท",
            43: "ูู ุงูุงุฎุฑ ุจูู๐๐ฉท",
            44: "ูุง ุงูููุฏู ูุธุจูุท ู ุญุจูุจุชู!๐ฅน๐ฅน๐ฉท",
            45: "ูุฌุจูู ูููุฏุฑ ูุฌุงููู ู ุญุจูุจุชู ๐๐ฉท",
            46: "ุทุจ ุงู ูุด ูุชูุฌู๐ซฆ",
            47: "ุงุญู๐ซฆ",
            48: "ุฌุนุงุงุงุงูููููู๐ฅน",
            49: "ุงูุนุง ูุนู ุนุงูุฒ ุงุชูุฑุฌ๐ก๐ก",
            50: "ุจุนุดูู ุงูุณู ุจุงููู๐ฅน๐ฉท",
            51: "ููุจููู ููู ูุฑูุญู๐๐ฉท",
            52: "ุงููุช ุงูุง ูู ูุชุญ ุงููู ๐๐ฉท",
            53: "ููุบุชู ุจุทู๐ญ",
            54: "ุงููุง ูู ูุดููู ูุจุนุชูููู ุงููุง๐ฅฐ๐ฉท",
            55: "ููู ูููุชุด ููุดู ูุนูู๐",
            56: "ุณูุจููู ูููุจุฑู ููุนูููโฆุงุญูุง=",
            57: "ูุงููู๐ก๐ก๐ก",
            58: "ูุงูุง ููุง ููู ุงูุง ุบูุฑ ูููู๐ฅน๐ฉท๐ฉท",
            59: "ููููู ูู ููุจู ูุฑูุญู๐๐ฉท",
            60: "ุนูุฑู ูุง ูุฒูู ููุง ููู ููู ุงุจุฏุง ู ูููู ุชุงุนูููู ุฏููุง ุงูุชู ุจุณ ูุง ุญุจูุจุชู ูุงูุง ููุง ุฌูุจู๐ซ๐ฉท",
            61: "ุฅู ุบุจุช ุจุญูููุง ูุงูุณู ุงูุฏููุง ูุงุฌูููุง๐คท๐ปโโ๏ธ๐ฉท",
            62: "ูุถูู ุดููู ุงูุงูุงู ูุฏุง๐ฅน",
            63: "ุจุญุจ ุงูุนุดูุงุฆูุฉ ุจุชุงุนุชูุง๐๐ฉท",
            64: "ูุง ุฏูุง ุจุณ ููุช ุจุฏูุฑ ุน ุจุฌุงูู ู ุฌุงููุช ูุฑู ูููููู๐ฅฐ๐ฉท",
            65: "ุงูุง ุงููุญุด ุจุฑุฌุฑ ุฏุง ุนููู ุดููู ุงูู",
            66: "ุณูู ุฌุฏูุฏู ูุญูุง ูุน ุจุนุถ ููู ุงูุณููู ุงูุฌุงูู ู ุญุจูุจุชู ุนุงูุฒู ูุฏุง ุงุจุช ุงูููู ููุดูุงุฑ ููููููุง ุงูุนูุฑ ููู ุจุณ๐ฅน๐ฉท",
            67: "ุจุญุจููููู ุงูููููููู ููู ููุชู ุชุชุฎููููู๐ฅน๐ฅน๐ฅน๐ฉท",
            68: "ูุฑูุญู ุงูุชู๐ก๐ฅน๐ฉท",
            69: "ุนููู ุฏููุง ุนูู ุญุจูุจุชู๐ซ๐ฉท",
            70: "ุงูููุชู ุจุชุงุนุชู ูููุง ูุฎูุตู ุนูู ูู ุงูุงูุนุงุจ๐ฅน๐ฉท",
            71: "ูุง ุฏุง ุงูุง ุจุฑุถู๐๐ฉท",
            72: "ุงูู ุญุงุฌู ุงููุง ูุน ุจุนุถ๐ซ๐ฉท",
            73: "ูุงุดุงุกุงููู ุงูููู ุจุงุฑู ุชุญูู ูููู๐ซ๐ฉท",
            74: "ููุงุนุจู ูุงูุณุจู ุงููุฑู ุงูุฌุงูู ุน ููุฑู ๐ก",
            75: "ุงูููุชู ุจุชุงุนุชู ุนูุฑ ููููู ุนููุง ุฒุนูู ุงุจุฏุง ู ุญุจูุจุชู ๐ซ๐ฉท",
            76: "ุฌุฑุจู ูุนููุง ุฌุฑุจู ููุง ูููู๐ญ",
            77: "๐ฅน๐ฅน๐ฅน๐ฉท",
            78: "ุงููุง ุงุฒุนุงุงุงุงููููู๐๐๐๐",
            79: "๐๐๐๐ฉท๐ฉท๐ฉท๐ฉท๐ฉท๐ฉท",
            80: "Love youuuuuuu๐ฅน๐ฉท",
            81: "ุงููููู ูุงู ุนุณูู ุงูู ุจูุฌูุฏู ู ุญุจูุจุชู ูุงูุงูู ูููุง ุนุณู ุจูุฌูุฏู ู ูููู ูุฑูุญู๐ซ๐ฉท",
            82: "ุดููู ุบูุฑ ุดูู ุงูุนุจูุท ุงูู ูุนุงูุงโจ"
        };

        const defaultCaption = "best memories with my fav person";

        for (let i = 1; i <= totalSlides; i++) {
            const div = document.createElement('div');
            div.className = 'slide';
            div.id = `slide-${i}`;
            
            // ุงุฎุชูุงุฑ ุงููุตู
            const textContent = captions[i] || defaultCaption;

            div.innerHTML = `
                <div id="media-container-${i}" style="width:100%; height:100%;"></div>
                <div class="overlay-gradient"></div>
                <div class="slide-content">
                    <h2>Memory ${i}</h2>
                    <p>${textContent}</p>
                </div>
                <div class="floating-heart" onclick="toggleLike(this)">
                    <svg class="svg-heart"><use href="#icon-heart"></use></svg>
                </div>
            `;
            container.appendChild(div);
        }

        const final = document.createElement('div');
        final.className = 'slide final-slide';
        final.id = 'final-slide';
        final.innerHTML = `<div class="message-box">
            <p class="final-message">ุฑุจูุง ูุฎูููู ููุง ูุง ูููู ูุง ุญุจูุจุชู ูุงุฑุจ ูุงูุนูุฑ ููู ูุน ุจุนุถ ููุดููุด ูููู ุงู ูุญุด ูุงูุถู ุงุดููู ูุจุณูุทู ูููุถู ูุฑุฎู ุนูู ุจุนุถ ูุฏุง ุงูุง ุนุงูุฒ ุงูุถู ุงูุจุงูู ูู ุนูุฑู ููู ูุนุงูู ูุชูุถูู ุญุจูุจุชู ูุญุฏ ุงุฎุฑ ููู ูุนูุฑู ูุชูุถูู ุงุฎุชูุงุฑู ุงูุงูู ู ุงูุงุฎูุฑ ุจุญุจู ุงููููู ูุง ูููู ุฑุจูุง ููุญุฑููู ููู ุงุจุฏุง ูุง ุงุฌูู ุฑุฒู ูู ุฑุจูุง ูุง ุงุญูู ุญุงุฌู ุญุตูุชูู ูุญูุงุชู ุจุญุจู ุงูู ูุง ูููู ุงูู ุงูู ุฎูููู ูุงูุฑุฉ ุฅูู ููุถู ุฌูุจู ุงูุนูุฑ ููู ููุด ูุฒูู ููุง ูุจุนุฏ ููุง ูุชุบูุฑ ูููุถู ุฃุญุจู ุฏููุงู ูุชูุถูู ุฏููุนุชู ุจุญุจู ุฃูู. <span class="signature">(ุญููุฏู)</span></p>
            <a href="#" onclick="document.getElementById('stories').scrollTo({top: 0, behavior: 'smooth'}); return false;" class="btn-restart">ุงูุนูุฏุฉ ุงูู ุงูุจุฏุงูุฉ</a>
            <a href="https://memorito.netlify.app/" class="btn-site">ุงูุนูุฏุฉ ูููููุน</a>
        </div>`;
        container.appendChild(final);

        window.onload = () => setTimeout(() => { document.getElementById('loader').style.opacity = '0'; setTimeout(() => document.getElementById('loader').style.display = 'none', 800); }, 2500);

        function toggleLike(btn) { 
            btn.classList.toggle('liked'); 
            if (btn.classList.contains('liked')) {
                createHeartExplosion(btn);
            }
        }

        function createHeartExplosion(btn) {
            const rect = btn.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.innerHTML = '<svg class="svg-heart"><use href="#icon-heart"></use></svg>';
                const size = Math.random() * 20 + 10;
                heart.style.width = size + 'px';
                heart.style.height = size + 'px';
                heart.style.left = (centerX - size/2) + 'px';
                heart.style.top = (centerY - size/2) + 'px';

                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 100 + 60;
                const tx = Math.cos(angle) * distance + 'px';
                const ty = Math.sin(angle) * distance + 'px';
                heart.style.setProperty('--tx', tx);
                heart.style.setProperty('--ty', ty);

                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 1000);
            }
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    const idStr = entry.target.id.split('-')[1];
                    const id = parseInt(idStr);
                    
                    if (!isNaN(id)) {
                        loadMedia(id); // ุชุญููู ุงูููุฏูู ุงูุญุงูู
                        if (id < totalSlides) loadMedia(id + 1); // ุชุญููู ุงูููุฏูู ุงููุงุฏู ูุณุจูุงู (Preload)
                    }

                    const v = entry.target.querySelector('video');
                    if (v) v.play().catch(() => {});
                } else {
                    entry.target.classList.remove('active');
                    const v = entry.target.querySelector('video');
                    if (v) { v.pause(); v.currentTime = 0; }
                }
            });
        }, { threshold: 0.6 });

        function loadMedia(id) {
            const box = document.getElementById(`media-container-${id}`);
            if (!box || box.innerHTML !== "") return;
            
            const v = document.createElement('video');
            v.className = 'slide-media';
            v.loop = true; 
            v.muted = true; 
            v.setAttribute('playsinline', '');
            v.setAttribute('preload', 'auto'); // ุฃูุฑ ุงูุชุญููู ุงูููุฑู
            v.src = `images/${id}.mp4`;
            
            v.oncanplay = () => v.classList.add('loaded');
            v.onerror = () => {
                v.remove();
                const img = document.createElement('img');
                img.className = 'slide-media';
                img.src = `images/${id}.jpg`;
                img.onload = () => img.classList.add('loaded');
                img.onerror = () => { img.src = `images/${id}.JPG`; img.onload = () => img.classList.add('loaded'); };
                box.appendChild(img);
            };
            box.appendChild(v);
            
            const slide = box.closest('.slide');
            slide.onclick = (e) => { 
                if (e.target.closest('.floating-heart')) return;
                if(v) v.muted = false; 
            };
        }

        document.querySelectorAll('.slide').forEach(s => observer.observe(s));
    </script>
</body>
</html>
